<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Techstuf | Product</title>
    <meta name="description" content="Product details and checkout on Techstuf." />
    <link rel="icon" type="image/png" href="assets/techstuf-logo.png" />
    <link rel="apple-touch-icon" href="assets/techstuf-logo.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script defer src="config.js?v=20260213b"></script>
    <script defer src="i18n.js?v=20260214b"></script>
    <script defer src="product.js?v=20260214f"></script>
  </head>
  <body>
    <div class="page-glow"></div>
    <div class="grain"></div>

    <header class="site-header">
      <div class="brand">
        <div class="logo has-image">
          <img src="assets/techstuf-logo.png" alt="Techstuf logo" />
        </div>
        <div class="brand-text">
          <span>Techstuf</span>
          <small data-i18n="brand.tagline">Netlify + Supabase storefront</small>
        </div>
      </div>
      <nav class="site-nav">
        <a href="index.html" data-i18n="product.back_to_store">Back to store</a>
      </nav>
      <div class="header-actions">
        <div class="lang-select">
          <label>
            <span data-i18n="lang.label">Language</span>
            <select id="languageSelect">
              <option value="auto" data-i18n="lang.auto">Auto</option>
              <option value="en" data-i18n="lang.en">English</option>
              <option value="ru" data-i18n="lang.ru">Russian</option>
            </select>
          </label>
          <button class="lang-action" id="useLocation" type="button" data-i18n="lang.use_gps">Use GPS</button>
        </div>
      </div>
    </header>

    <main>
      <section class="product-detail" id="productDetail" data-reveal>
        <div class="product-media" id="productMedia" style="--hue: 160;">
          <div class="product-media-placeholder" id="productMediaPlaceholder">Techstuf</div>
        </div>
        <aside class="product-side">
          <p class="eyebrow" id="productCategory">Category</p>
          <h1 id="productName">Loading...</h1>
          <div class="product-detail-meta">
            <strong id="productPrice">--</strong>
            <span class="rating" id="productRating"></span>
          </div>
          <label class="product-qty">
            <span data-i18n="product.quantity">Quantity</span>
            <input type="number" id="productQty" min="1" value="1" />
          </label>
          <div class="product-actions">
            <button class="btn primary" id="buyNowBtn" data-i18n="product.buy_now">Buy now</button>
            <button class="btn secondary" id="addToCartBtn" data-i18n="product.add_to_cart">Add to cart</button>
            <button class="btn ghost" id="scrollReviewsBtn" data-i18n="product.comments">Comments</button>
            <a class="btn ghost" id="viewVideoBtn" href="#" target="_blank" rel="noreferrer" data-i18n="product.view_video" hidden>View video</a>
            <a class="btn ghost" href="index.html" data-i18n="product.back_to_store">Back to store</a>
          </div>
          <div class="product-auth-actions">
            <a class="btn ghost" href="index.html#account" data-i18n="product.register">Register</a>
            <a class="btn ghost" href="index.html#account" data-i18n="product.login">Login</a>
          </div>
          <p class="product-status" id="productStatus"></p>
          <p class="product-status" id="productSku"></p>
        </aside>
        <div class="product-description-block">
          <h2 data-i18n="product.about_title">About this product</h2>
          <p class="lede product-description" id="productDescription"></p>
        </div>
      </section>

      <section class="product-reviews" id="productReviews" data-reveal>
        <div class="review-header">
          <div>
            <h2 id="productReviewTitle" data-i18n="review.title">Product reviews</h2>
            <p id="productReviewMeta" data-i18n="review.meta">Customer ratings and feedback.</p>
          </div>
        </div>
        <div class="review-rating" id="productReviewRating"></div>
        <div class="review-list" id="productReviewList"></div>
        <form class="review-form" id="productReviewForm">
          <label>
            <span data-i18n="review.rating_label">Rating</span>
            <select name="rating" required>
              <option value="" data-i18n="review.select_label">Select</option>
              <option value="5" data-i18n="review.opt_5">5 - Excellent</option>
              <option value="4" data-i18n="review.opt_4">4 - Great</option>
              <option value="3" data-i18n="review.opt_3">3 - Good</option>
              <option value="2" data-i18n="review.opt_2">2 - Fair</option>
              <option value="1" data-i18n="review.opt_1">1 - Poor</option>
            </select>
          </label>
          <label>
            <span data-i18n="review.comment_label">Comment</span>
            <textarea name="comment" rows="3" placeholder="Share your experience" data-i18n-placeholder="review.comment_placeholder"></textarea>
          </label>
          <button class="btn secondary" type="submit" data-i18n="review.submit">Submit review</button>
          <div class="auth-status" id="productReviewStatus" data-i18n="review.login_required">Login required to post.</div>
        </form>
      </section>

      <section class="product-notfound" id="productNotFound" hidden>
        <h2 data-i18n="product.not_found_title">Product not found</h2>
        <p data-i18n="product.not_found_desc">This item isn't available. Return to the storefront.</p>
        <a class="btn secondary" href="index.html" data-i18n="product.back_to_store">Back to store</a>
      </section>
    </main>

    <div class="toast" id="toast" data-i18n="toast.added">Added to cart</div>
  </body>
</html>
